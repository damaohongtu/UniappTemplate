"use strict";const e=require("../../common/vendor.js"),o=require("../../common/assets.js"),s=require("../../utils/system.js"),t=require("../../api/apis.js");if(!Array){e.resolveComponent("uni-icons")()}Math;const i={__name:"user",setup(i){const a=e.ref(null),n=()=>{e.wx$1.login({success:o=>{o.code?e.index.showModal({title:"温馨提示",content:"请先登录",success:function(s){s.confirm&&e.wx$1.getUserProfile({desc:"用于完善用户资料",success:e=>{const s=e.userInfo;console.log("登录成功",{code:o.code,userInfo:s}),t.apiUserInfo().then((e=>{console.log(e),a.value=e.data}))},fail:o=>{console.log("获取用户信息失败",o),e.index.showToast({title:"获取用户信息失败",icon:"none"})}})}}):e.index.showToast({title:"登录失败",icon:"none"})},fail:o=>{console.log("登录失败",o),e.index.showToast({title:"登录失败",icon:"none"})}})};return(t,i)=>e.e({a:a.value},a.value?{b:e.unref(s.getNavBarHeight)()+"px",c:o._imports_0,d:e.t(a.value.IP),e:e.t(a.value.address.city||a.value.address.province||a.value.address.country),f:e.p({type:"download-filled",size:"20"}),g:e.t(a.value.downloadSize),h:e.p({type:"right",size:"15",color:"#aaa"}),i:e.p({type:"star-filled",size:"20"}),j:e.t(a.value.scoreSize),k:e.p({type:"right",size:"15",color:"#aaa"}),l:e.p({type:"chatboxes-filled",size:"20"}),m:e.p({type:"right",size:"15",color:"#aaa"}),n:e.p({type:"notification-filled",size:"20"}),o:e.p({type:"right",size:"15",color:"#aaa"}),p:e.p({type:"flag-filled",size:"20"}),q:e.p({type:"right",size:"15",color:"#aaa"})}:{r:e.unref(s.getNavBarHeight)()+"px",s:o._imports_0,t:e.o(n)})}},a=e._export_sfc(i,[["__scopeId","data-v-f84b2669"]]);wx.createPage(a);
